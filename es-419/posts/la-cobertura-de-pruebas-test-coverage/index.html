<!doctype html><html lang=es-419>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Andrés García">
<meta name=description content="Sítio personal de Andrés García">
<meta name=keywords content="blog,desarrollador,personal">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://tech-andgar.me/images/avatar.jpg">
<meta name=twitter:title content="La cobertura de pruebas (Test Coverage)">
<meta name=twitter:description content="LCOV es una herramienta gráfica para las pruebas de cobertura de GCC con gcov. Crea páginas HTML que contienen el código fuente anotado con información de cobertura mediante la recopilación de datos gcov de múltiples archivos fuente. LCOV soporta la medición de &ldquo;Cobertura de líneas&rdquo; y &ldquo;Cobertura de funciones&rdquo;.
El informe de LCOV tiene el siguiente aspecto:
Instalación Instalar en Ubuntu sudo apt-get update -qq -y sudo apt-get install lcov -y Instalar en Mac brew install lcov Instalar en Windows Se requiere:">
<meta property="og:title" content="La cobertura de pruebas (Test Coverage)">
<meta property="og:description" content="LCOV es una herramienta gráfica para las pruebas de cobertura de GCC con gcov. Crea páginas HTML que contienen el código fuente anotado con información de cobertura mediante la recopilación de datos gcov de múltiples archivos fuente. LCOV soporta la medición de &ldquo;Cobertura de líneas&rdquo; y &ldquo;Cobertura de funciones&rdquo;.
El informe de LCOV tiene el siguiente aspecto:
Instalación Instalar en Ubuntu sudo apt-get update -qq -y sudo apt-get install lcov -y Instalar en Mac brew install lcov Instalar en Windows Se requiere:">
<meta property="og:type" content="article">
<meta property="og:url" content="https://tech-andgar.me/es-419/posts/la-cobertura-de-pruebas-test-coverage/"><meta property="og:image" content="https://tech-andgar.me/images/avatar.jpg"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-09-30T00:00:00+00:00">
<meta property="article:modified_time" content="2021-09-30T00:00:00+00:00"><meta property="og:site_name" content="TECH-ANDGAR">
<base href=https://tech-andgar.me/es-419/posts/la-cobertura-de-pruebas-test-coverage/>
<title>
La cobertura de pruebas (Test Coverage) · TECH-ANDGAR
</title>
<link rel=canonical href=https://tech-andgar.me/es-419/posts/la-cobertura-de-pruebas-test-coverage/>
<link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.11.2/css/all.css integrity=sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN crossorigin=anonymous>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous>
<link rel=stylesheet href=https://tech-andgar.me/css/coder.min.a4f332213a21ce8eb521670c614470c58923aaaf385e2a73982c31dd7642decb.css integrity="sha256-pPMyITohzo61IWcMYURwxYkjqq84XipzmCwx3XZC3ss=" crossorigin=anonymous media=screen>
<link rel=stylesheet href=https://tech-andgar.me/css/coder-dark.min.83a2010dac9f59f943b3004cd6c4f230507ad036da635d3621401d42ec4e2835.css integrity="sha256-g6IBDayfWflDswBM1sTyMFB60DbaY102IUAdQuxOKDU=" crossorigin=anonymous media=screen>
<link rel=icon type=image/png href=https://tech-andgar.me/images/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=https://tech-andgar.me/images/favicon-16x16.png sizes=16x16>
<meta name=generator content="Hugo 0.88.1">
</head>
<body class=colorscheme-auto>
<main class=wrapper>
<nav class=navigation>
<section class=container>
<a class=navigation-title href=https://tech-andgar.me/es-419>
TECH-ANDGAR
</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars"></i></label>
<ul class=navigation-list>
<li class=navigation-item>
<a class=navigation-link href=https://tech-andgar.me/es-419/about/>Acerca de</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=https://tech-andgar.me/es-419/posts/>Blog</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=https://tech-andgar.me/es-419/projects/>Proyectos</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=https://tech-andgar.me/es-419/contact/>Contacto</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=https://link.tech-andgar.me/HV-AFGR-DEV>CV</a>
</li>
<li class="navigation-item menu-separator">
<span>|</span>
</li>
<li class=navigation-item>
<a href=https://tech-andgar.me/>English</a>
</li>
</ul>
</section>
</nav>
<div class=content>
<section class="container post">
<article>
<header>
<div class=post-title>
<h1 class=title>La cobertura de pruebas (Test Coverage)</h1>
</div>
<div class=post-meta>
<div class=date>
<span class=posted-on>
<i class="fas fa-calendar"></i>
<time datetime=2021-09-30T00:00:00Z>
September 30, 2021
</time>
</span>
<span class=reading-time>
<i class="fas fa-clock"></i>
2-minute read
</span>
</div>
<div class=categories>
<i class="fas fa-folder"></i>
<a href=https://tech-andgar.me/es-419/categories/flutter/>Flutter</a></div>
<div class=tags>
<i class="fas fa-tag"></i>
<a href=https://tech-andgar.me/es-419/tags/flutter/>Flutter</a>
<span class=separator>•</span>
<a href=https://tech-andgar.me/es-419/tags/lcov/>LCOV</a>
<span class=separator>•</span>
<a href=https://tech-andgar.me/es-419/tags/test-coverage/>Test Coverage</a>
<span class=separator>•</span>
<a href=https://tech-andgar.me/es-419/tags/prueba-de-cobertura/>prueba de cobertura</a></div>
</div>
</header>
<div>
<p>LCOV es una herramienta gráfica para las pruebas de cobertura de GCC con gcov. Crea páginas HTML que contienen el código fuente anotado con información de cobertura mediante la recopilación de datos gcov de múltiples archivos fuente. LCOV soporta la medición de &ldquo;Cobertura de líneas&rdquo; y &ldquo;Cobertura de funciones&rdquo;.</p>
<p>El informe de LCOV tiene el siguiente aspecto:</p>
<p><img src=https://user-images.githubusercontent.com/9597207/79640726-1ad1f680-8161-11ea-9241-d7d6fe70f630.png alt=image.png></p>
<h2 id=instalación>Instalación</h2>
<h3 id=instalar-en-ubuntu>Instalar en Ubuntu</h3>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>sudo apt-get update -qq -y
sudo apt-get install lcov -y
</code></pre></div><h3 id=instalar-en-mac>Instalar en Mac</h3>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>brew install lcov
</code></pre></div><h3 id=instalar-en-windows>Instalar en Windows</h3>
<p>Se requiere:</p>
<ul>
<li>Chocolatey</li>
<li>Perl</li>
<li>LCOV</li>
</ul>
<h4 id=1-chocolatey>1. CHOCOLATEY</h4>
<ol>
<li>
<p>Instalar chocolatey</p>
<p>Ejecuta <code>Get-ExecutionPolicy</code>.
Si devuelve <strong>Restricted</strong>, ejecuta <code>Set-ExecutionPolicy AllSigned</code> o <code>Set-ExecutionPolicy Bypass -Scope Process</code></p>
<ul>
<li>CMD (con Administrador)</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>@<span style=color:#0ff;font-weight:700>&#34;%SystemRoot%\System32\WindowsPowerShell\v1.0\powershell.exe&#34;</span> -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command <span style=color:#0ff;font-weight:700>&#34;iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))&#34;</span> &amp;&amp; SET <span style=color:#0ff;font-weight:700>&#34;PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin&#34;</span>
</code></pre></div><ul>
<li>PowerShell (con Administrador)</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>Set-ExecutionPolicy Bypass -Scope Process -Force; iex ((New-Object System.Net.WebClient).DownloadString(<span style=color:#0ff;font-weight:700>&#39;https://chocolatey.org/install.ps1&#39;</span>))
</code></pre></div></li>
</ol>
<h4 id=2-perl>2. PERL</h4>
<ol>
<li>
<p>Instalar Perl</p>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>choco install strawberryperl
</code></pre></div></li>
<li>
<p>Comprobar el Perl instalado</p>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>where perl
</code></pre></div><p>Si devuelve correcta es y siguiente paso 3. LCOV:</p>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#007f7f># C:\Strawberry\perl\bin\perl.exe</span>
</code></pre></div><p>Si no existe, añadir la ruta perl en las variables de entorno del sistema</p>
<p>Nota: Un comando que cambia las variables de entorno de cmd sólo para la sesión actual de cmd</p>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#fff;font-weight:700>set</span> PATH=$PATH:C:<span style=color:#0ff;font-weight:700>\S</span>trawberry<span style=color:#0ff;font-weight:700>\p</span>erl<span style=color:#0ff;font-weight:700>\b</span>in

<span style=color:#fff;font-weight:700>echo</span> %path%
</code></pre></div><p>Si lo desea, puede añadir permanentemente una ruta a PATH con el comando setx:</p>
<p><strong>Advertencia:</strong></p>
<ol>
<li><strong>Haga una copia de seguridad de su PATH</strong> - SETX truncará su información de más de 1024 caracteres</li>
<li>No llame a SETX %PATH%;xxx - <em>añade la ruta del sistema en la path</em> del usuario (SETX por defecto actualizará su ruta de usuario).</li>
<li>No llame a SETX %PATH%;xxx /M - <em>añade la ruta del usuario a la ruta del sistema</em> (SETX &mldr; /M actualizará su ruta del sistema.)</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>setx /M path <span style=color:#0ff;font-weight:700>&#34;%path%;C:\Strawberry\perl\bin\&#34;
</span><span style=color:#0ff;font-weight:700>
</span><span style=color:#0ff;font-weight:700>echo %path%
</span></code></pre></div></li>
</ol>
<h4 id=3-lcov>3. LCOV</h4>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>choco install lcov
</code></pre></div><h2 id=funcionamiento-lcov>Funcionamiento LCOV</h2>
<h3 id=1-ejecutar-la-cobertura-de-las-pruebas-del-proyecto-flutter-para-generar-archivo-de-lcov>1. Ejecutar la cobertura de las pruebas del proyecto Flutter para generar archivo de LCOV</h3>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>flutter <span style=color:#fff;font-weight:700>test</span> --coverage
</code></pre></div><h3 id=2-generar-archivos-de-cobertura-y-convertirlos-en-html>2. Generar archivos de cobertura y convertirlos en HTML</h3>
<h4 id=linuxmac>Linux/Mac</h4>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>genhtml coverage/lcov.info -o coverage/html
</code></pre></div><h4 id=windows>Windows</h4>
<h5 id=cmd-or-powershell><strong>CMD or PowerShell</strong></h5>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>perl C:<span style=color:#0ff;font-weight:700>\P</span>rogramData<span style=color:#0ff;font-weight:700>\c</span>hocolatey<span style=color:#0ff;font-weight:700>\l</span>ib<span style=color:#0ff;font-weight:700>\l</span>cov<span style=color:#0ff;font-weight:700>\t</span>ools<span style=color:#0ff;font-weight:700>\b</span>in<span style=color:#0ff;font-weight:700>\g</span>enhtml coverage/lcov.info -o coverage/html
</code></pre></div><h5 id=git-bash><strong>Git bash</strong></h5>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>perl /c/ProgramData/chocolatey/lib/lcov/tools/bin/genhtml coverage/lcov.info -o coverage/html
</code></pre></div>
</div>
<footer>
</footer>
</article>
</section>
</div>
<footer class=footer>
<section class=container>
<p>H E L L O @ T E C H - A N D G A R . M E</p>
© 2020 - 2021
Andrés García
</section>
</footer>
</main>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-33194632-1','auto'),ga('send','pageview'))</script>
</body>
</html>